# php -- BEGIN cPanel-generated handler, do not edit
<IfModule mime_module>
  AddHandler application/x-httpd-ea-php82 .php .php8 .phtml
</IfModule>
# php -- END cPanel-generated handler, do not edit

# Disable directory listing
Options -Indexes

# SPA Routing
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /

# Redirect www to non-www
RewriteCond %{HTTP_HOST} ^www\.samuel-stephens\.com$ [NC]
RewriteRule ^(.*)$ https://samuel-stephens.com/$1 [R=301,L]

# Serve actual files directly (json, md, images, pdf, etc.)
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# Everything else goes to SPA (including directory paths like /blog)
# QSA flag preserves query strings (needed for Giscus auth callback)
RewriteRule ^ /index.html [L,QSA]
</IfModule>
